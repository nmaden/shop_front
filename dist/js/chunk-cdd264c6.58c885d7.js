(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdd264c6"],{"46d7":function(t,e,a){},"7bbc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main__column"},[a("div",{staticClass:"main__block__header"},[a("div",{staticClass:"item__row item__ac item__90 main__mb__m"},[a("div",{staticClass:"main__block__search"},[a("i",{staticClass:"mdi mdi-briefcase-search-outline"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nameProduct,expression:"nameProduct"}],attrs:{type:"text",placeholder:"Название или модель изделия"},domProps:{value:t.nameProduct},on:{input:[function(e){e.target.composing||(t.nameProduct=e.target.value)},t.searchProduct]}})]),a("svg",{staticClass:"plp-svg-icon plp-pill__icon",class:{main__color__filter:1==t.showSort},attrs:{focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},on:{click:function(e){t.showSort=!t.showSort}}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 5h2v1h12v2H8v1H6V8H4V6h2V5zm12 8h2v-2h-2v-1h-2v1H4v2h12v1h2v-1zm-5.94 5H20v-2h-7.94v-1h-2v1H4v2h6.06v1h2v-1z"}})])]),t.showSort?a("div",{staticClass:"item__row main__sorts"},[a("div",{staticClass:"item__column main__mr__m main__sort"},[a("p",{},[t._v("Сортировка")]),a("v-col",{staticClass:"d-flex pa-0",attrs:{cols:"12",sm:"11"}},[a("v-select",{attrs:{items:t.sorts,"item-text":"value","item-value":"id",label:"Сортировка",outlined:"",required:"",dense:""},on:{change:t.getCategory},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1)],1),a("div",{staticClass:"item__column main__mr__m main__sort"},[a("p",{},[t._v("Цена")]),a("div",{staticClass:"item__row"},[a("div",{staticClass:"main__mr__s"},[a("v-text-field",{attrs:{type:"number",label:"От",outlined:"",dense:""},on:{input:t.getCategory},model:{value:t.priceFrom,callback:function(e){t.priceFrom=e},expression:"priceFrom"}})],1),a("v-text-field",{attrs:{type:"number",label:"До",outlined:"",dense:""},on:{input:t.getCategory},model:{value:t.priceTo,callback:function(e){t.priceTo=e},expression:"priceTo"}})],1)])]):t._e()]),t._m(0),a("div",{staticClass:"main__block__products"},t._l(t.all_products,(function(e,s){return a("div",{key:s,staticClass:"main__block__product"},[a("div",{staticClass:"product__images"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[0==e.images.length||e.scroll_index||0==t.products.length?t._e():a("img",{staticClass:"product__img",attrs:{src:"https://api.kenesmebel.kz"+e.images[0].image_path}}),0!=e.images.length&&e.scroll_index&&0!=t.products.length?a("img",{staticClass:"product__img",attrs:{src:"https://api.kenesmebel.kz"+e.images[e.scroll_index].image_path}}):t._e()]),e.images.length>=2?a("div",{staticClass:"item__column"},[!e.scroll_index&&e.images.length<2?a("div",{staticClass:"product__levels"},t._l(e.images,(function(e,o){return a("div",{key:o,staticClass:"product__level",class:{product__level__active:0==o},on:{click:function(e){return t.scrollImage(s,o)}}})})),0):t._e(),!e.scroll_index&&e.images.length>=2?a("div",{staticClass:"product__levels"},t._l(3,(function(e,o){return a("div",{key:o,staticClass:"product__level",class:{product__level__active:0==o},on:{click:function(e){return t.scrollImage(s,o)}}})})),0):t._e(),e.scroll_index&&e.images.length>=2?a("div",{staticClass:"product__levels"},t._l(3,(function(o,r){return a("div",{key:r,staticClass:"product__level",class:{product__level__active:r==e.scroll_index},on:{click:function(e){return t.scrollImage(s,r)}}})})),0):t._e()]):t._e()],1),a("p",{staticClass:"product__name"},[t._v(t._s(e.name_product))]),e.count?a("p",{staticClass:"product__size"},[t._v("Остаток на складе "+t._s(e.count))]):t._e(),e.size?a("p",{staticClass:"product__size"},[t._v("Размеры: "+t._s(e.size))]):t._e(),a("div",{staticClass:"product__prices"},[a("div",{staticClass:"item__row item__ac"},[a("p",{staticClass:"product__price"},[t._v(t._s(t.formatNumber(e.price)+" тнг "))]),2==e.count_type?a("p",{staticClass:"product__price"},[t._v(t._s("/ ")+"кг")]):t._e(),3==e.count_type?a("p",{staticClass:"product__price"},[t._v(t._s("/ ")+"литр")]):t._e()])]),a("div",{staticClass:"product__order",on:{click:function(a){return t.openProduct(e.id,e.category_id,s)}}},[a("p",[t._v("Подробнее")])])])})),0),t.showLoaderProducts?a("div",{staticClass:"main__block__products"},[a("div",{staticClass:"item__column item__ac main__block__product item__js__c"},[a("v-skeleton-loader",{attrs:{type:"card-avatar, actions"}})],1),a("div",{staticClass:"item__column item__ac main__block__product item__js__c"},[a("v-skeleton-loader",{attrs:{type:"card-avatar, actions"}})],1),a("div",{staticClass:"item__column item__ac main__block__product item__js__c"},[a("v-skeleton-loader",{attrs:{type:"card-avatar, actions"}})],1),a("div",{staticClass:"item__column item__ac main__block__product item__js__c"},[a("v-skeleton-loader",{attrs:{type:"card-avatar, actions"}})],1),a("div",{staticClass:"item__column item__ac main__block__product item__js__c"},[a("v-skeleton-loader",{attrs:{type:"card-avatar, actions"}})],1)]):t._e(),t.all_products.length!=t.total_page?a("div",{staticClass:"main__next item__abs",on:{click:function(e){return t.showMore()}}},[t.showLoader?t._e():a("p",[t._v("Посмотреть еще")]),t.showLoader?a("v-progress-circular",{attrs:{indeterminate:"",color:"white"}}):t._e()],1):t._e()])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main__block__title"},[a("div",{staticClass:"main__block__round"}),a("p",[t._v("Новинки")])])}],r=(a("a4d3"),a("e01a"),a("4de4"),a("a15b"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),{props:["openBasket"],data:function(){return{showSort:!0,priceTo:"",priceFrom:"",sort:null,sorts:[{id:1,value:"Популярные"},{id:2,value:"Новинки"},{id:3,value:"Сначала дешевые"},{id:4,value:"Сначала дорогие"}],items:[{value:1,label:"Сначала дешевые"},{value:2,label:"Сначала дорогие"}],filter:{filter:!0},nameProduct:"",showLoader:!1,showLoaderCategory:!0,showLoaderProducts:!0,orderCreated:!1,basket:[],bread:[],subcategory:!1,nested:[],amount:0,orders:[],count:0,all_count:0,isActive:!0,open_description:!1,categories:[],products:[],description:[],basket_amount:0,before_category:[],bread_categories:[],all_products:[],next_page_url:"",total_page:0}},mounted:function(){localStorage.getItem("goods")&&(this.basket=JSON.parse(localStorage.getItem("goods")),this.basketAmount()),localStorage.getItem("basket_amount")&&(this.basket_amount=parseInt(localStorage.getItem("basket_amount"))),this.getProducts()},watch:{$route:function(){this.$route.params.id&&this.getCategory()}},methods:{formatNumber:function(t){if(!t)return 0;var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e.join(".")},searchProduct:function(){var t=this;this.all_products=[],this.$http.get("/search/product?name="+this.nameProduct).then((function(e){t.total_page=e.data.total,t.next_page_url=e.data.next_page_url,t.products=e.data.data;for(var a=0;a<t.products.length;a++)t.all_products.push(t.products[a]);t.showLoaderProducts=!1}))},showMore:function(){var t=this;if(!this.next_page_url)return!1;this.showLoader=!0,this.$http.get(this.next_page_url).then((function(e){if(t.products=e.data.data,t.showLoader=!1,t.next_page_url=e.data.next_page_url,t.all_products.length!=e.data.total)for(var a=0;a<t.products.length;a++)t.all_products.push(t.products[a])}))},deleteEl:function(t,e){this.basket_amount=this.basket_amount-this.basket[e].order_price,this.basket=this.basket.filter((function(e){return e.id!==t})),localStorage.setItem("goods",JSON.stringify(this.basket)),localStorage.setItem("basket_amount",this.basket_amount)},checkHasEl:function(){for(var t=!1,e=0;e<this.basket.length;e++)if(this.basket[e].id==this.description.id){t=!0;break}return t},basketAmount:function(){this.basket_amount=0;for(var t=0;t<this.basket.length;t++)this.basket_amount=this.basket_amount+this.basket[t].order_price;var e=this.basket_amount;this.basket_amount=0,this.basket_amount=e,localStorage.setItem("basket_amount",this.basket_amount)},corousel_img:function(t){this.description.corousel_index=t;var e=this.description;this.description=[],this.description=e},scrollImage:function(t,e){this.products[t].scroll_index=e;var a=this.products;this.products=[],this.products=a},getProducts:function(){var t=this;this.$http.get("/guest/get/products").then((function(e){t.total_page=e.data.total,t.next_page_url=e.data.next_page_url,console.log(t.next_page_url),t.products=e.data.data;for(var a=0;a<t.products.length;a++)t.all_products.push(t.products[a]);t.showLoaderProducts=!1}))},openProduct:function(t,e,a){this.open_description=!0,this.description=this.products[a],this.$router.push("/category/"+e+"/product/"+t)},getCategory:function(){var t=this;this.all_products=[],this.showLoaderProducts=!0;var e={category_id:this.$route.params.id,sort:this.sort,priceFrom:this.priceFrom,priceTo:this.priceTo};this.$http.post("guest/get/products/by/category",e,{}).then((function(e){t.next_page_url=e.data.next_page_url,t.total_page=e.data.total,t.products=e.data.data;var a=t.products;t.products=[],t.products=a;for(var s=0;s<t.products.length;s++)t.all_products.push(t.products[s]);t.showLoaderProducts=!1}))}}}),i=r,c=(a("86b9"),a("2877")),n=a("6544"),l=a.n(n),_=(a("4160"),a("caad"),a("13d5"),a("45fc"),a("4ec9"),a("a9e3"),a("b64b"),a("3ca3"),a("2ca0"),a("159b"),a("ddb0"),a("ade3")),u=a("5530"),d=(a("4b85"),a("2b0e")),p=a("d9f7"),m=a("80d2"),h=["sm","md","lg","xl"],v=function(){return h.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{})}(),g=function(){return h.reduce((function(t,e){return t["offset"+Object(m["w"])(e)]={type:[String,Number],default:null},t}),{})}(),f=function(){return h.reduce((function(t,e){return t["order"+Object(m["w"])(e)]={type:[String,Number],default:null},t}),{})}(),b={col:Object.keys(v),offset:Object.keys(g),order:Object.keys(f)};function k(t,e,a){var s=t;if(null!=a&&!1!==a){if(e){var o=e.replace(t,"");s+="-".concat(o)}return"col"!==t||""!==a&&!0!==a?(s+="-".concat(a),s.toLowerCase()):s.toLowerCase()}}var C=new Map,y=d["default"].extend({name:"v-col",functional:!0,props:Object(u["a"])(Object(u["a"])(Object(u["a"])(Object(u["a"])({cols:{type:[Boolean,String,Number],default:!1}},v),{},{offset:{type:[String,Number],default:null}},g),{},{order:{type:[String,Number],default:null}},f),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var a=e.props,s=e.data,o=e.children,r=(e.parent,"");for(var i in a)r+=String(a[i]);var c=C.get(r);return c||function(){var t,e;for(e in c=[],b)b[e].forEach((function(t){var s=a[t],o=k(e,t,s);o&&c.push(o)}));var s=c.some((function(t){return t.startsWith("col-")}));c.push((t={col:!s||!a.cols},Object(_["a"])(t,"col-".concat(a.cols),a.cols),Object(_["a"])(t,"offset-".concat(a.offset),a.offset),Object(_["a"])(t,"order-".concat(a.order),a.order),Object(_["a"])(t,"align-self-".concat(a.alignSelf),a.alignSelf),t)),C.set(r,c)}(),t(a.tag,Object(p["a"])(s,{class:c}),o)}}),w=a("490a"),x=a("b974"),S=a("3129"),j=a("8654"),P=Object(c["a"])(i,s,o,!1,null,null,null);e["default"]=P.exports;l()(P,{VCol:y,VProgressCircular:w["a"],VSelect:x["a"],VSkeletonLoader:S["a"],VTextField:j["a"]})},"86b9":function(t,e,a){"use strict";var s=a("46d7"),o=a.n(s);o.a}}]);
//# sourceMappingURL=chunk-cdd264c6.58c885d7.js.map